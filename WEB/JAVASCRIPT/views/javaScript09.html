<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>함수(Function)</title>
        <style>
            p{
                width: 500px;
                height: 100px;
                background: lightgray;
                border: 1px solid black;
            }
        </style>
    </head>
    <body>
        <h1>함수(Function)</h1>
        
        <h3>function 함수명(){소스코드 작성}로 작성해서 실행하는 방법</h3>
        <button onclick="test1();">실행확인</button>
        <p id = "p1"></p>
        <script>
            function test1(){
                var p1 = document.getElementById("p1");
                p1.innerHTML = "test1() 함수 실행됨";
            }
        </script>


        <h3>함수명 = function(){소스코드 작성} : 익명함수(이벤트 핸들러 작성 시 주로 사용)
        </h3>
        <p id = "p2"></p>
        <button id="btn2">실행확인</button>
        <script>
            var btn2 = document.getElementById("btn2");
            btn2.onclick= function(){
            document.getElementById("p2").innerHTML = "이벤트 핸들러를 통해 함수 실행됨";
            }
        </script>


        <h3>스스로 실행하는 함수 : (function(){})();</h3>
        <p id = "p3"></p>
        <script>
            (function(){
                var p3 = document.getElementById("p3");
                p3.innerHTML = "자동으로 혼자 실행됨";
            })();
        </script>


        <h3>함수의 전달인자와 매개변수</h3>
        <button id="btn1">실행확인</button>
        <p id="p4"></p>
        <script>
            function test4(value){
                var p4 = document.getElementById("p4");
                //넘어온 매개변수는 arguments객체에서 확인할 수 있다.
                console.log(arguments);
                p4.innerHTML += value + "<br>";
            }

            document.getElementById("btn1").onclick = function(){
                test4(prompt("메세지를 입력하세요."));
                //지정된 매개변수보다 많은 개수의 인자를 넣는 걸 허용한다.
                //단, 초과된 인자는 무시한다.(화면엔 안 띄움)
                test4('안녕하세요','반갑습니다');
                //지정된 매개변수보다 적게 호출하는 것도 허용한다.
                //단, 선언이 안 된 매개변수는 undefined가 된다.
                test4();
            }
        </script>


        <h3>함수의 리턴처리</h3>
        <button onclick="test5();">실행확인</button>
        <p id="p5"></p>
        <script>
            function returnFunction(){
                // 1부터 100사이의 랜덤값을 구해서 반환
                return Math.floor(Math.random()*100)+1;
            }
            
            function test5(){
                var p5 = document.getElementById("p5");
                var value = returnFunction();
                p5.innerHTML = value;
            }
        </script>

        <h3>매개변수 arguments</h3>
        <p id = "p6"></p>
        <button onclick="test6(11,22,33,1,2,6);">실행확인</button>
        <script>
            function test6(){
                console.log('arguments의 타입 : ' + typeof(arguments));
                console.log('arguments의 길이 : ' + arguments.length);
                console.log(arguments);

                var sum = 0;

                for(var i=0;i<arguments.length;i++){
                    sum += arguments[i];
                }
                document.getElementById("p6").innerHTML = "더하기 결과 : " + sum;
            }
        </script>

        <h3>매개변수 함수에 this 요소 전달하기</h3>
        <button onclick="testFn(this);">버튼1</button>
        <button onclick="testFn(this.innerHTML);">버튼2</button>

        <input type="button" onclick="testFn(this.value);" value="버튼3">

        <script>
            function testFn(element){
                console.log(element);
            }
        </script>
        
        <h3>익명함수를 리턴하는 함수</h3>
        이름 : <input type="text" id="name">
        <button onclick="test7()();">실행확인</button>
        <script>
            function test7(){
                var userName = document.getElementById("name").value;
                return function(){
                    alert(userName + "님 환영합니다.");
                }
            }
        </script>
</body>
</html>
