<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체배열</title>
    <style>
        .area {
            height: 250px;
            border: 1px solid black;
            background-color: lightgray;
        }
    </style>
</head>
<body>
    <h1>객체 배열</h1>
    <h3>객체와 배열을 사용한 데이터관리</h3>
    <button onclick="test1();">실행확인</button>
    <div id="area1" class="area"></div>
    <script>
        function test1(){
            var student0 = {
                name : '유재석',
                java:90,
                oracle:56,
                HTML5:30,
                CSS3:44,
                javascript:100
            };
            var student1 = {
                name : '김종민',
                java:80,
                oracle:36,
                HTML5:98,
                CSS3:48,
                javascript:22
            };
            var student2 = {
                name : '정재형',
                java:100,
                oracle:100,
                HTML5:100,
                CSS3:100,
                javascript:100
            };
            var students = [];
            students.push(student0);
            students.push(student1);
            students.push(student2);
            console.log(students);

            // 배열에 담겨 있는 모든 객체에 메소드 속성 추가
            for(var i=0; i < students.length; i++){
                students[i].getSum = function(){
                    return this.java + this.oracle + this.HTML5 + this.CSS3 + this.javascript;
                }
                students[i].getAvg = function(){
                    return this.getSum()/5;
                }
            }

            //배열의 메소드를 통해 이름과 총점과 평균을 출력
            for(var i in students){
                with(students[i]){
                document.getElementById("area1").innerHTML
                += "이름 : " + name
                +", 총점 : " + getSum()
                +", 평균 : " + getAvg() + "<br>";
                }
            }
            console.log(students);
        }
    </script>


    <h3>생성자 함수</h3>
    <p>new 키워드를 사용해서 객체를 생성할 수 있는 함수를 의미한다.</p>
    <button onclick="test2();">실행확인</button>
    <div id="area2" class="area"></div>
    <script>
        function Student(name, java, oracle, html5, css3, javascript){
        // 속성정의
        this.name = name;
        this.java = java;
        this.oracle = oracle;
        this.html5 = html5;
        this.css3 = css3;
        this.javascript = javascript;

        // 메소드 정의
        this.getSum = function(){
                return this.java + this.oracle + this.html5 + this.css3 + this.javascript;
            }

            this.getAvg = function(){
                return this.getSum() / 5;
            }

            this.toString = function(){
                return "이름 : " + this.name +
                        ", 총점 : " + this.getSum() +
                        ", 평균 : " + this.getAvg() + "<br>";
            }
        }
        
        function test2(){
            var student = new Student(prompt('이름을 입력하세요.'),   
                                  parseInt(prompt('자바 점수를 입력하세요.')),
                                  parseInt(prompt('오라클 점수를 입력하세요.')),
                                  parseInt(prompt('html5 점수를 입력하세요.')),
                                  parseInt(prompt('css3 점수를 입력하세요.')),
                                  parseInt(prompt('javascript 점수를 입력하세요.'))
                                  
            )
            var area2 = document.getElementById('area2');
            area2.innerHTML = student;
            students.push(student);
            console.log(students);
        }
    </script>


</body>
</html>