<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체</title>
    <style>
        .area {
            background: lightgray;
            border: 1px solid black;
            height: 200px;
        }
        .area-big {
            background: lightgray;
            border: 1px solid black;
            height: 400px;
        }
    </style>
</head>
    <body>
    <h1>객체</h1>
    <h3>객체의 선언 및 호출</h3>
    <pre>객체는 키값을 사용하여 속성을 식별한다.
        중괄호{}를 사용해서 객체를 생성하고, [ ] 또는 .으로 요소 값에 접근
        속성값에는 모든 자료형이 올 수 있으며 그 중 함수 자료형인 요소 : 메소드
        객체 내에서 자신의 속성을 호출할 때 반드시 this키워드를 사용하고
        객체의 모든 속성을 출력하려면 단순 for문이나 while문으로는 출력이 불가
    하니 for in문을 사용해야 함
    </pre>
    <pre>
        var 객체 = {
            속성명 : 속성값,
            속성명 : 속성값,
            ...
        };
        key : value 형태:
    </pre>
    <button onclick="test1();">실행확인</button>
    <div id="area1" class="area-big"></div>
    <script>
        function test1(){
            var product = {
                pName : 'Dry Mango', //pName : 속성명, 'Dry Mango' : 속성값
                type : '과자',
                ingredient : ['mango','sugar'],
                origin: 'Philippines'
            };

            console.log(product);

            var area1 = document.getElementById("area1");

            area1.innerHTML += "product : " + product + "<br><br>";

            // 해당 객체의 각 속성에 접근하는 방법
            // 1. 객체명['속성명']
            area1.innerHTML += "<b>객체명['속성명']으로 접근하기</b><br>";
            area1.innerHTML += "product['pName'] : " + product['pName'] + "<br>";
            area1.innerHTML += "product['type'] : " + product['type'] + "<br>";
            area1.innerHTML += "product['ingredient'] : " + product['ingredient'] + "<br>";
            area1.innerHTML += "product['ingredient'][0] : " + product['ingredient'][0] + "<br>";
            area1.innerHTML += "product['ingredient'][1] : " + product['ingredient'][1] + "<br>";
            area1.innerHTML += "product['origin'] : " + product['origin'] + "<br>";

            // 2. 객체명.속성명
            area1.innerHTML += "<b>객체명.속성명으로 접근하기</b><br>";
            area1.innerHTML += "product.pName : " + product.pName + "<br>";
            area1.innerHTML += "product.type : " + product.type + "<br>";
            area1.innerHTML += "product.ingredient : " + product.ingredient + "<br>";
            area1.innerHTML += "product.ingredient[0] : " + product.ingredient[0] + "<br>";
            area1.innerHTML += "product.ingredient[1] : " + product.ingredient[1] + "<br>";
            area1.innerHTML += "product.origin : " + product.origin + "<br>";

        }
    </script>

    <h3>객체의 키 식별자 테스트</h3>
    <button onclick="test2();">실행확인</button>
    <div id="area2" class="area"></div>
    <script>
        function test2(){
            var objTest = {
                // 속성명 제시시 공백이나 특수 문자가 들어간 경우 "", '' 묶어줘야함
                'I love' : '남주혁',
                'I hate !@#$%^&' : '겨울'
            };

            console.log(objTest);
            var area2 = document.getElementById("area2");

            //area2.innerHTML += "I love : " + objTest.'I love' + "<br>";

            // 공백이나 특수문자가 key값에 들어간 경우 대괄호 이용해 값을 가져온다
            area2.innerHTML += "I love : " + objTest['I love'] + "<br>";
            area2.innerHTML += "I hate !@#$%^&' : "+ objTest['I hate !@#$%^&'] + "<br>";
        }
    </script>


    <h3>객체의 메소드 속성</h3>
    <p>객체의 속성 중 함수 자료형인 속성을 메소드라고 부른다.</p>
    <button onclick="test3();">실행확인</button>
    <div id="area3" class="area"></div>
    <script>
        function test3(){
            var area3 = document.getElementById("area3");
            var dog = {
                name : '바둑이',
                eat:function(food){
                    //객체 내에서 자신의 속성을 호출할 땐 반드시 this를 사용해야 한다.
                    area3.innerHTML += this.name + '가 '+ food + '을 먹고 있어요 왈왈~';
                }
            };
            console.log(dog);
            dog.eat('밥');
        }
    </script>


    <h3>객체와 반복문</h3>
    <p>객체의 속성을 살펴볼 땐 단순 for문으로 사용 불가능하고 <br>
        for in문을 사용해야 한다.
    </p>
    <button onclick="test4();">실행확인</button>
    <div id="area4" class="area"></div>
    <script>
        function test4(){
            var game = {
                title:'ZELDA',
                price: '35000원',
                language: '한국어지원',
                supportOS: 'window 32/64',
                service: true
        };

        console.log(game);

        var area4 = document.getElementById("area4");
        for(var key in game){
            area4.innerHTML += key + " : " + game[key] + "<br>";
            // area4.innerHTML += key + " : " + game.key + "<br>"; undefined : game이라는 객체에 실제 Key라는 속성을 찾음
        }
    }
    </script>


    <h3>in과 with 키워드</h3>
    <p>
        in: 객체 내부에 해당 속성이 있는지 확인하는 키워드<br>
        with: 코드를 줄여주는 키워드, 호출시 객체명 생략이 가능하다
    </p>
    <label>이름 : </label>
    <input type="text" id="name"><br>
    <label>국어 : </label>
    <input type="text" id="kor"><br>
    <label>영어 : </label>
    <input type="text" id="eng"><br>
    <label>수학 : </label>
    <input type="text" id="math"><br>
    <button onclick="test5();">실행확인</button>
    <div id="area5" class="area"></div>
    <script>
        function test5(){
            var name = document.getElementById("name").value;
            var kor = parseInt(document.getElementById("kor").value);
            var eng = parseInt(document.getElementById("eng").value);
            var math = parseInt(document.getElementById("math").value);

            var student = {
                name : name,
                kor : kor,
                eng:eng,
                math:math
            };
            console.log(student);

            var area5 = document.getElementById("area5");

            //"속성명" in 객체
            area5.innerHTML += "<b>in키워드 테스트</b><br>";
            area5.innerHTML += "student 객체에 name이라는 속성이 있는지 확인 : " +('name' in student) + "<br>";
            area5.innerHTML += "student 객체에 sum이라는 속성이 있는지 확인 : " +('sum' in student) + "<br>";

            with(student){
                area5.innerHTML += "학생이름 : " + name + "<br>";
                area5.innerHTML += "국어점수 : " + kor + "<br>";
                area5.innerHTML += "영어점수 : " + eng + "<br>";
                area5.innerHTML += "수학점수 : " + math + "<br>";
                area5.innerHTML += "총점 : " + (kor + eng + math) + "<br>";
                area5.innerHTML += "평균 : " + ((kor + eng + math)/3) +"<br>";
            }   
        }
    </script>


    <h3>객체의 속성 추가와 제거</h3>
    <p>
        처음 객체 생성 후 속성을 추가하거나 제거하는 것은 
        동적으로 속성을 추가한다 혹은 제거한다라고 불린다.
    </p>
    <button onclick="test6();">실행확인</button>
    <div id="area6" class="area"></div>
    <script>
         function test6(){
            var area6 = document.getElementById("area6");
            var student = {};
            console.log(student);

            student.name = "유재석";
            student.hobby = "낚시";
            student.strength = "귀여움";
            student.dream = "어부";

            student.toString = function(){
                var str ="";
                for(var key in this){
                    if(key != 'toString'){
                        str += key + " : " + this[key] + "<br>";
                    }
                }
                return str;
            }
            console.log(student);

            //area6.innerHTML = student.toString();
            //area6.innerHTML = "student : <br>" + student + "<br>"; //객체 제시시 내부적으로 toString()메소드를 찾아서 실행
            delete(student.dream);
            area6.innerHTML = student.toString();

         }
    </script>
</body>
</html>
